<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Playwright DOM Extractor</title>
  <link rel="stylesheet" href="node_modules/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="node_modules/reveal.js/dist/theme/black.css">
  <link rel="stylesheet" href="node_modules/reveal.js/plugin/highlight/monokai.css">
  <link rel="stylesheet" href="custom.css">
  <style>
    .reveal pre {
      max-height: 400px;
      overflow-y: auto;
    }
    .reveal img {
      max-height: 500px;
      width: auto;
    }
    .reveal h1, .reveal h2, .reveal h3 {
      text-transform: none;
    }
    .reveal .container {
      display: flex;
    }
    .reveal .col {
      flex: 1;
      padding: 0 10px;
    }
    .green-text {
      color: #4CAF50;
    }
    .yellow-text {
      color: #FFC107;
    }
    .red-text {
      color: #F44336;
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <!-- Title Slide -->
      <section>
        <h1>Playwright DOM Extractor</h1>
        <h3>Semantic Selectors for Resilient Test Automation</h3>
        <p>Work In Progress</p>
      </section>

      <!-- Problem Statement -->
      <section>
        <h2>The Problem</h2>
        <ul>
          <li class="fragment"><strong>Brittle Selectors</strong>: Minor UI changes break tests</li>
          <li class="fragment"><strong>Manual Maintenance</strong>: Significant time updating selectors</li>
          <li class="fragment"><strong>Inconsistent Naming</strong>: No standard conventions for element identification</li>
          <li class="fragment"><strong>Context Disconnect</strong>: Selectors don't reflect element purpose</li>
        </ul>
      </section>

      <!-- Solution -->
      <section>
        <h2>Solution: Playwright DOM Extractor</h2>
        <ul>
          <li class="fragment"><strong>Extract & Analyze</strong>: Automatically extract DOM elements</li>
          <li class="fragment"><strong>Generate Semantic Keys</strong>: Create meaningful, consistent selectors</li>
          <li class="fragment"><strong>Intelligent Selection</strong>: Use smart matching and context detection</li>
          <li class="fragment"><strong>AI Enhancement</strong>: Leverage Cursor AI for better element analysis</li>
        </ul>
      </section>

      <!-- Key Features and Architecture in a vertical stack -->
      <section>
        <!-- First slide: Key Features -->
        <section>
          <h2>Key Features</h2>
          <ul>
            <li class="fragment"><strong>DOM Monitor</strong>: Extract and analyze elements from web pages</li>
            <li class="fragment"><strong>Semantic Helper</strong>: Find elements with smart, context-aware matching</li>
            <li class="fragment"><strong>Cursor AI Integration</strong>: Generate better keys without API keys</li>
            <li class="fragment"><strong>Test Generation</strong>: Create robust Playwright tests</li>
          </ul>
          <p class="fragment">(Press down arrow for architecture details)</p>
        </section>
        
        <!-- Second slide: Architecture (vertically stacked) -->
        <section>
          <h2>Architecture</h2>
          <pre><code class="language-text">┌─────────────────┐     ┌───────────────┐     ┌────────────────┐
│                 │     │               │     │                │
│  DOM Extraction │────▶│  Analysis &   │────▶│  Report        │
│  (Playwright)   │     │  Key Creation │     │  Generation    │
│                 │     │               │     │                │
└─────────────────┘     └───────────────┘     └────────────────┘
                              │
                              ▼
                        ┌─────────────┐
                        │             │
                        │  AI Service │
                        │  (MCP/API)  │
                        │             │
                        └─────────────┘</code></pre>
          <p class="fragment">Modular design enables flexibility in implementation and use cases</p>
        </section>
      </section>

      <!-- data-testid Prioritization split into two vertical slides -->
      <section>
        <!-- First slide: Before using data-testid -->
        <section>
          <h2>data-testid Prioritization</h2>
          <div class="feature-box">
            <p>Enhanced reliability by prioritizing attributes designed for testing</p>
          </div>
          <h3>Before</h3>
          <pre><code class="language-html">&lt;button id="submit-btn" class="btn primary"&gt;
  Submit
&lt;/button&gt;</code></pre>
          <pre><code class="language-typescript">// Brittle selectors that break with UI changes
await page.fill('#username', 'testuser');
await page.click('.login-btn');</code></pre>
          <p class="fragment">(Press down arrow to see the improved approach)</p>
        </section>
        
        <!-- Second slide: After using data-testid -->
        <section>
          <h2>data-testid Prioritization</h2>
          <h3>After</h3>
          <pre><code class="language-html">&lt;button id="submit-btn" class="btn primary"
  data-testid="login_button_submit"&gt;
  Submit
&lt;/button&gt;</code></pre>
          <pre><code class="language-typescript">// Resilient selectors with semantic meaning
const loginBtn = await getSemanticSelector('login button');
await page.click(loginBtn);</code></pre>
          <p>Tests remain stable even when classes and IDs change</p>
        </section>
      </section>

      <!-- Improved Semantic Key Format slide -->
      <section>
        <section>
          <h2>Semantic Key Format</h2>
          <div class="note-box">
            <p>Consistent, meaningful selectors improve test readability and maintenance</p>
          </div>
          <div style="background-color: rgba(0,100,0,0.1); padding: 15px; border-radius: 10px; margin: 20px 0;">
            <pre><code class="language-text" style="font-size: 1.3em;">[context]_[element-type]_[purpose]</code></pre>
          </div>
          <p class="fragment">(Press down arrow to see examples)</p>
        </section>
        
        <section>
          <h2>Semantic Key Examples</h2>
          <table style="width: 100%; border-collapse: separate; border-spacing: 0 15px;">
            <tr>
              <th style="width: 33%; text-align: right; padding-right: 15px;">Context</th>
              <th style="width: 33%; text-align: center;">Element Type</th>
              <th style="width: 33%; text-align: left; padding-left: 15px;">Purpose</th>
            </tr>
            <tr class="fragment">
              <td style="text-align: right; color: #4CAF50; font-weight: bold;">login</td>
              <td style="text-align: center; color: #FFC107; font-weight: bold;">text_input</td>
              <td style="text-align: left; color: #2196F3; font-weight: bold;">username</td>
            </tr>
            <tr class="fragment">
              <td style="text-align: right; color: #4CAF50; font-weight: bold;">profile</td>
              <td style="text-align: center; color: #FFC107; font-weight: bold;">button</td>
              <td style="text-align: left; color: #2196F3; font-weight: bold;">save</td>
            </tr>
            <tr class="fragment">
              <td style="text-align: right; color: #4CAF50; font-weight: bold;">cart</td>
              <td style="text-align: center; color: #FFC107; font-weight: bold;">checkbox</td>
              <td style="text-align: left; color: #2196F3; font-weight: bold;">gift_wrap</td>
            </tr>
          </table>
        </section>
      </section>

      <!-- Smart Selector System split into two vertically stacked slides -->
      <section>
        <!-- First part of Smart Selector System -->
        <section>
          <h2>Smart Selector System</h2>
          <p>Multiple ways to find elements using semantic selectors:</p>
          <pre><code class="language-typescript">// Traditional approach - exact key
const button = await getSemanticSelector('login_button_submit');

// Smart selector - partial key
const button = await getSemanticSelector('submit');

// Smart selector - natural language
const button = await getSemanticSelector('login button');</code></pre>
          <p class="fragment">(Press down arrow for more selector examples)</p>
        </section>
        
        <!-- Second part of Smart Selector System -->
        <section>
          <h2>Smart Selector System (Continued)</h2>
          <p>Advanced selector techniques:</p>
          <pre><code class="language-typescript">// Smart selector - with context
const button = await getSemanticSelector('save', 'profile');

// Smart selector - pattern matching
const button = await getSemanticSelector('*_button_*');

// Multiple elements matching a pattern
const socialLinks = await getSemanticSelector('profile_link_*');</code></pre>
        </section>
      </section>

      <!-- Usage: CLI Examples -->
      <section>
        <h2>Usage Examples</h2>
        <div class="container">
          <div class="col">
            <h3>Demo Scripts</h3>
            <pre><code class="language-bash"># Run basic demo
npm run basic-demo

# Run MCP integration demo
npm run mcp-demo</code></pre>
          </div>
          <div class="col">
            <h3>Direct Commands</h3>
            <pre><code class="language-bash"># Extract with MCP
npm run monitor-page -- \
  --url https://example.com \
  --use-mcp</code></pre>
          </div>
        </div>
      </section>

      <!-- Using Semantic Keys in Tests -->
      <section>
        <h2>Using Semantic Keys in Tests</h2>
        <pre><code class="language-typescript">import { getSemanticSelector } from '../utils/semantic-helper';

test('Login workflow', async ({ page }) => {
  await page.goto('https://example.com/login');
  
  // Smart matching with data-testid priority
  const username = await getSemanticSelector('username');
  const password = await getSemanticSelector('password');
  const loginBtn = await getSemanticSelector('login button');
  
  // Use selectors in test
  await page.fill(username, 'testuser');
  await page.fill(password, 'password123');
  await page.click(loginBtn);
});</code></pre>
      </section>

      <!-- MCP Integration -->
      <section>
        <h2>Cursor MCP Integration</h2>
        <div class="feature-box">
          <p>Direct integration with Cursor AI - no external API keys needed!</p>
        </div>
        <pre><code class="language-typescript">// Initialize DOM Monitor with MCP enabled
const domMonitor = new DOMMonitor({
  useAI: true,
  useMCP: true, // Use Cursor AI without external API keys
  outputPath: './mappings'
});

// Extract elements and generate AI-enhanced keys
const elements = await domMonitor.extractDOMElements(page, context);
const elementsWithKeys = await domMonitor.generateSemanticKeys(
  elements, 'https://example.com/login'
);</code></pre>
      </section>

      <!-- Key Benefits -->
      <section>
        <h2>Key Benefits</h2>
        <ul>
          <li class="fragment"><strong>Resilience</strong>: Tests remain stable through UI changes</li>
          <li class="fragment"><strong>Maintainability</strong>: Clear, semantic naming improves readability</li>
          <li class="fragment"><strong>Flexibility</strong>: Smart matching reduces cognitive load</li>
          <li class="fragment"><strong>Context Awareness</strong>: Keys reflect element purpose and location</li>
          <li class="fragment"><strong>AI Enhancement</strong>: Better quality keys with less effort</li>
        </ul>
      </section>

      <!-- Getting Started -->
      <section>
        <h2>Getting Started</h2>
        <pre><code class="language-bash"># Clone repository
git clone https://github.com/yourusername/playwright-dom-extractor.git

# Install dependencies
npm ci

# Run demos
npm run basic-demo
npm run mcp-demo
npm run semantic-demo</code></pre>
      </section>

      <!-- Demo Time -->
      <section>
        <h2>Demo Time!</h2>
        <div class="demo-card">
          <h3>Demo Flow</h3>
          <ol>
            <li>Basic DOM Extraction (<code>npm run basic-demo</code>)</li>
            <li>AI-Powered Extraction with MCP (<code>npm run mcp-demo</code>)</li>
            <li>Smart Selector System (<code>npm run semantic-demo</code>)</li>
            <li>Using Selectors in Tests</li>
          </ol>
        </div>
      </section>

      <!-- Resources -->
      <section>
        <h2>Resources</h2>
        <ul>
          <li><a href="https://github.com/yourusername/playwright-dom-extractor">GitHub Repository</a></li>
          <li><a href="https://github.com/yourusername/playwright-dom-extractor/blob/master/README.md">Documentation</a></li>
          <li><a href="https://github.com/yourusername/playwright-dom-extractor/blob/master/SMART-SELECTOR.md">Smart Selector Guide</a></li>
          <li><a href="https://github.com/yourusername/playwright-dom-extractor/blob/master/MCP-INTEGRATION.md">MCP Integration Guide</a></li>
        </ul>
      </section>

      <!-- Q&A -->
      <section>
        <h2>Q&A</h2>
        <p>Questions?</p>
        <p><small>Contact: [Your Contact Information]</small></p>
      </section>
    </div>
  </div>

  <script src="node_modules/reveal.js/dist/reveal.js"></script>
  <script src="node_modules/reveal.js/plugin/notes/notes.js"></script>
  <script src="node_modules/reveal.js/plugin/markdown/markdown.js"></script>
  <script src="node_modules/reveal.js/plugin/highlight/highlight.js"></script>
  <script>
    Reveal.initialize({
      hash: true,
      controls: true,
      progress: true,
      slideNumber: true,
      plugins: [ RevealHighlight, RevealNotes, RevealMarkdown ],
      transition: 'slide',
      overview: true,
      autoPlayMedia: true,
      backgroundTransition: 'fade'
    });
  </script>
</body>
</html> 